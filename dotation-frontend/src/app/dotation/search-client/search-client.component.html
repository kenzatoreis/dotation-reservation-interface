<!-- Search Section -->
<div class="bg-white p-6 mb-6">
  <p class="text-base font-semibold text-gray-700 mb-4">Recherche Client</p>

  <form [formGroup]="searchForm" (ngSubmit)="onSearch()" class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Type de pièce</label>
      <select formControlName="typePiece" class="w-full border border-gray-300 px-3 py-2 rounded-none">
        <option value="CIN">CIN</option>
        <option value="CARTE_SEJOUR">Carte Séjour</option>
      </select>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Numéro de pièce</label>
      <input formControlName="numero" placeholder="Numéro" class="w-full border border-gray-300 px-3 py-2 rounded-none" />
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Type de dotation</label>
      <select formControlName="typeDotation" class="w-full border border-gray-300 px-3 py-2 rounded-none">
        <option value="ecom">Dotation e_com</option>
        <option value="voyage">Dotation voyage</option>
      </select>
    </div>

    <!-- Buttons -->
    <div class="md:col-span-3 flex justify-end gap-4 mt-3">
      <button
        type="button"
        (click)="onCancel()"
        class="bg-teal-300 text-white px-4 py-2 rounded-none hover:bg-teal-400"
       >
        Annuler
      </button>

      <button
        type="submit"
        class="bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-none">
        Rechercher
      </button>
    </div>
  </form>
</div>

<!-- Client Table -->
<div *ngIf="clients.length" class="bg-white p-6">
<p class="text-base font-semibold text-gray-700 mb-4">Liste des Clients</p>


  <div class="overflow-x-auto">
    <table class="w-full border-collapse text-sm text-left border-t">
      <thead class="bg-gray-100 text-teal-700">
        <tr>
          <th class="p-2">Identifiant Client</th>
          <th class="p-2">Nom et Prénom</th>
          <th class="p-2">Date de Naissance</th>
          <th class="p-2">Sélectionner</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let client of clients" class="hover:bg-gray-50">
          <td class="p-2">{{ client.idClient }}</td>
          <td class="p-2">{{ client.nom }} {{ client.prenom }}</td>
          <td class="p-2">{{ client.dateNaissance }}</td>
          <td class="p-2">
            <button
              (click)="onSelect(client)"
              class="bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-none">
              Sélectionner
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Error Message -->
<p *ngIf="errorMsg" class="text-red-600 text-sm mt-2">{{ errorMsg }}</p>
